<link rel="stylesheet" href="./modules/create/style.css" />
<link rel="stylesheet" href="./modules/home/style.css" />
<!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Tournament <i class="fa fa-trophy" style="margin-left:-4px;font-size:16px"></i><span style="font-size:16px;margin-left:5px">gg</span></a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li class="hidden">
          <a href="#page-top"></a>
        </li>
        <li class="page-scroll">
          <a href="#/create">Create Tournament</a>
        </li>
        <li class="page-scroll">
          <a href="#/find">Find Tournament</a>
        </li>
      </ul>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>

<div class="header-text">
  <div class="col-lg-12">
    <div class="intro-text">
    	<span class="skills" ng-show="step1">{{message.step1}}</span>
    	<span class="skills" ng-show="step2">{{message.step2}}</span>
    	<span class="skills" ng-show="step3">{{message.step3}}</span>
      <hr class="star-light">
    </div>
  </div>
</div>


<div id="createTournament">
<div class="alert-container">
	<div ng-show="messages.error" class="alert alert-danger" role="alert">
			<strong>Error!</strong> {{messages.error}}
	</div>
	<div ng-show="messages.success" class="alert alert-success" role="alert">
	  {{messages.success}}
	</div>
</div>


  <div id="step1" ng-show="step1">

    <form name="step1form" ng-submit="submitStep1()" novalidate>
      <div class="input-group">
        <input type="email" class="form-control owner-input" placeholder="Email" ng-model="newTournament.owner" required />
        <div class="input-group-btn">
          <select class="btn dropdown-toggle region-selector" ng-model="newTournament.settings.region" ng-options="region as region for region in regions"></select>
        </div>
      </div>
      <br />
      	<input type="password" class="form-control owner-input owner-password" placeholder="Password" ng-model="newTournament.password" required />
      	<button type="submit" 
      					class="btn btn-outline step1submit top-margin step1-button" 
      					ng-disabled="step1form.$invalid || step1form.$pristine">
      		<i ng-show="step1LoginSpinner" class="fa fa-circle-o-notch fa-spin"></i>
      		Log In
      	</button>
      	<button type="button" 
      					class="btn btn-outline step1submit top-margin register-button step1-button" 
      					ng-disabled="step1form.$invalid || step1form.$pristine"
      					ng-click="step1Register()">
      		<i ng-show="step1RegisterSpinner" class="fa fa-circle-o-notch fa-spin"></i>
      		Register
      	</button>
    </form>
  </div>

<div id="step2" ng-show="step2">
  <form name="step2form" ng-submit="submitStep2()" novalidate>
  <div class="row">
  <div class="col-xs-12">
  	<label>Tournament Name</label>
  	<input ng-model="newTournament.settings.name" required />
  </div>
    <!-- Start Sidebar -->
    <div class="col-xs-6">
        <div>
          <label class="noselect">Tournament Visibility</label>
          <select class="btn btn-info dropdown-toggle" ng-model="newTournament.settings.visibility" ng-options="visibility.value as visibility.name for visibility in visibilities">
          </select>
        </div>
        <div class="top-padding">
          <label class="noselect">Team Size</label>
          <select class="btn btn-info dropdown-toggle" ng-model="newTournament.settings.teamSize" ng-options="player.value as player.name for player in players">
          </select>
        </div>
        <div class="top-padding">
          <label class="noselect">Pick Mode</label>
          <select class="btn btn-info dropdown-toggle" ng-model="newTournament.settings.pickType" ng-options="pick.value as pick.name for pick in picks">
          </select>
        </div>
        <div class="top-padding">
          <label class="noselect">Game Map</label>
          <select class="btn btn-info dropdown-toggle" ng-model="newTournament.settings.mapType" ng-options="map.value as map.name for map in maps">
          </select>
        </div>
        <div class="top-padding">
          <label class="noselect">Spectator Mode</label>
          <select class="btn btn-info dropdown-toggle" ng-model="newTournament.settings.spectatorType" ng-options="spectator.value as spectator.name for spectator in spectators">
          </select>
        </div>
    </div>
    <div class="col-xs-6">
      <label class="noselect">Participating Summoners</label>
      <div class="user-list-container">
      <div ng-repeat="user in users track by $index">
        <input ng-model="users[$index]" ng-change="newUser()" class="user-list" />
      </div>
      </div>
    </div>
  </div>
  <button type="button" class="btn btn-outline top-margin" ng-click="step2 = false; step1 = true">Back</button>
  <button type="submit" class="btn btn-outline step2submit top-margin" ng-disabled="step2form.$invalid">Next</button>
  </form>
</div>




  <div id="step3" ng-show="step3">
   <form name="step3form" ng-submit="submitStep3()" novalidate>




      <div class="row">
        <!-- Start Sidebar -->
        <div class="col-xs-4">
          <ul class="nav nav-pills nav-stacked">
            <li ng-repeat="filter in filters[0]" class="filter-list btn-info noselect" ng-class="{'active':$index==0}">
            	<a data-toggle="tab" data-target="#filter{{filter.id}}">{{filter.name}}</a>
            	<input id="box{{$index}}" type="checkbox" ng-model="filter.status" />
  						<label for="box{{$index}}"></label>
            </li>
          </ul>
        </div>

        <!-- Start Methods -->
        <div class="col-xs-8 filter-content">
          <div class="tab-content">

          	<!-- Champion Mastery -->
            <div class="tab-pane top-padding active" id="filterchampionmastery">
								<div class="top-padding">
								<label class="block">Champion mastery level should be</label>
  								<div class="input-group">
  									<div class="input-group-btn">
      						    <select class="btn btn-warning dropdown-toggle region-selector default-size" 
      						    				ng-model="filters[0]['championmastery'].settings.comparator" 
      						    				ng-options="comparator as comparator for comparator in comparators">
      						    </select>
      						  </div>
      						  <input type="number" 
      						  			 class="form-control owner-input default-size" 
      						  			 placeholder="1 - 5" 
      						  			 ng-model="filters[0]['championmastery'].settings.championlevel" 
      						  			 required />
      						</div>
  							</div>
            </div>


          	<!-- Item Restrictions -->
            <div class="tab-pane top-padding " id="filteritemrestrictions">
			    <script>
		dissallowButtonItem = "<button type=\"button\" class=\"btn btn-success pull-right\" style=\"margin-top: -11px; margin-right:-17px\" onClick=\"removeElementItem($id$)\">Unban</button>";
		dissallowButtonChamp = "<button type=\"button\" class=\"btn btn-success pull-right\" style=\"margin-top: -11px; margin-right:-17px\" onClick=\"removeElementChamp($id$)\">Unban</button>";
		id = 0;
		function addElementItems() {
			if ($("#spells").val() != null) {
				$("#allowedspells").append("<li style=\"margin: 0 0 3px 0;\" id=\"disallow" + id +"\" class=\"list-group-item\"><span id=\"val" + id + "\">"+  $("#spells").val() + "</span>" + dissallowButtonItem.replace("$id$",id) + "</li>");
				$("#spells").find('option:selected').remove();
				id++;
			}
		}
		function removeElementItem(i) {
			console.log($("#val" + i));
			$("#spells").append("<option>" + $("#val" + i).text() + "</option>");
			$("#disallow" + i).remove();
		}
		function addElementChamps() {
			if ($("#champs").val() != null) {
				$("#allowedchamps").append("<li style=\"margin: 0 0 3px 0;\" id=\"disallowChamp" + id +"\" class=\"list-group-item\"><span id=\"val" + id + "\">"+  $("#champs").val() + "</span>" + dissallowButtonChamp.replace("$id$",id) + "</li>");
				$("#champs").find('option:selected').remove();
				id++;
			}
		}
		function removeElementChamp(i) {
			console.log($("#val" + i));
			$("#champs").append("<option>" + $("#val" + i).text() + "</option>");
			$("#disallowChamp" + i).remove();
		}	
		$( document ).ready(function() {
var champions = ["Aatrox","Ahri","Akali","Alistar","Amumu","Anivia","Annie","Ashe","Azir","Blitzcrank","Brand","Braum","Caitlyn","Cassiopeia","Cho'Gath","Corki","Darius","Diana","Dr. Mundo","Draven","Elise","Evelynn","Ezreal","Fiddlesticks","Fiora","Fizz","Galio","Gangplank","Garen","Gnar","Gragas","Graves","Hecarim","Heimerdinger","Irelia","Janna","Jarvan IV","Jax","Jayce","Jinx","Kalista","Karma","Karthus","Kassadin","Katarina","Kayle","Kennen","Kha'Zix","Kog'Maw","LeBlanc","Lee Sin","Leona","Lissandra","Lucian","Lulu","Lux","Malphite","Malzahar","Maokai","Master Yi","Miss Fortune","Mordekaiser","Morgana","Nami","Nasus","Nautilus","Nidalee","Nocturne","Nunu","Olaf","Orianna","Pantheon","Poppy","Quinn","Rammus","Rek'Sai","Renekton","Rengar","Riven","Rumble","Ryze","Sejuani","Shaco","Shen","Shyvana","Singed","Sion","Sivir","Skarner","Sona","Soraka","Swain","Syndra","Talon","Taric","Teemo","Thresh","Tristana","Trundle","Tryndamere","Twisted Fate","Twitch","Udyr","Urgot","Varus","Vayne","Veigar","Vel'Koz","Vi","Viktor","Vladimir","Volibear","Warwick","Wukong","Xerath","Xin Zhao","Yasuo","Yorick","Zac","Zed","Ziggs","Zilean","Zyra"];
			var items = ["Abyssal Scepter","Aegis of the Legion","Aether Wisp","Amplifying Tome","Ancient Coin","Archangel's Staff","Archangel's Staff (Crystal Scar)","Ardent Censer","Athene's Unholy Grail","B. F. Sword","Bami's Cinder","Banner of Command","Banshee's Veil","Berserker's Greaves","Bilgewater Cutlass","Blade of the Ruined King","Blasting Wand","Boots of Mobility","Boots of Speed","Boots of Swiftness","Brawler's Gloves","Catalyst the Protector","Caulfield's Warhammer","Chain Vest","Chalice of Harmony","Cloak of Agility","Cloth Armor","Corrupting Potion","Crystalline Bracer","Cull","Dagger","Dead Man's Plate","Death's Dance","Death's Daughter","Dervish Blade","Diet Poro-Snax","Doran's Blade","Doran's Blade (Showdown)","Doran's Ring","Doran's Ring (Showdown)","Doran's Shield","Doran's Shield (Showdown)","Elixir of Iron","Elixir of Sorcery","Elixir of Wrath","Entropy","Essence Reaver","Executioner's Calling","Explorer's Ward","Eye of the Equinox","Eye of the Oasis","Eye of the Watchers","Face of the Mountain","Faerie Charm","Farsight Alteration","Fiendish Codex","Fire at Will","Forbidden Idol","Frost Queen's Claim","Frostfang","Frozen Heart","Frozen Mallet","Giant Slayer","Giant's Belt","Glacial Shroud","Golden Transcendence","Greater Stealth Totem (Trinket)","Greater Vision Totem (Trinket)","Grez's Spectral Lantern","Guardian Angel","Guardian's Horn","Guinsoo's Rageblade","Haunting Guise","Health Potion","Hexdrinker","Hextech Gunblade","Hextech Revolver","Hextech Sweeper","Hextech Sweeper","Hunter's Machete","Hunter's Potion","Hunter's Talisman","Iceborn Gauntlet","Infinity Edge","Ionian Boots of Lucidity","Jaurim's Fist","Kindlegem","Kircheis Shard","Last Whisper","Liandry's Torment","Lich Bane","Locket of the Iron Solari","Long Sword","Lord Dominik's Regards","Lord Van Damm's Pillager","Luden's Echo","Madred's Razors","Manamune","Manamune (Crystal Scar)","Maw of Malmortius","Mejai's Soulstealer","Mercurial Scimitar","Mercury's Treads","Mikael's Crucible","Moonflair Spellblade","Morellonomicon","Mortal Reminder","Muramana","Muramana","Nashor's Tooth","Needlessly Large Rod","Negatron Cloak","Ninja Tabi","Nomad's Medallion","Null-Magic Mantle","Odyn's Veil","Ohmwrecker","Oracle Alteration","Oracle's Extract","Orb of Winter","Overlord's Bloodmail","Perfect Hex Core","Phage","Phantom Dancer","Pickaxe","Poro-Snax","Prospector's Blade","Prospector's Ring","Prototype Hex Core","Quicksilver Sash","Rabadon's Deathcap","Raise Morale","Randuin's Omen","Rapid Firecannon","Raptor Cloak","Ravenous Hydra","Recurve Bow","Refillable Potion","Rejuvenation Bead","Relic Shield","Righteous Glory","Rod of Ages","Rod of Ages (Crystal Scar)","Ruby Crystal","Ruby Sightstone","Runaan's Hurricane","Rylai's Crystal Scepter","Sanguine Blade","Sapphire Crystal","Seeker's Armguard","Seraph's Embrace","Seraph's Embrace","Serrated Dirk","Sheen","Sightstone","Skirmisher's Sabre","Sorcerer's Shoes","Soul Anchor (Trinket)","Spectre's Cowl","Spellthief's Edge","Spirit Visage","Staff of Flowing Water","Stalker's Blade","Statikk Shiv","Sterak's Gage","Stinger","Sunfire Cape","Sweeping Lens (Trinket)","Talisman of Ascension","Targon's Brace","Tear of the Goddess","Tear of the Goddess (Crystal Scar)","The Black Cleaver","The Black Spear","The Bloodthirster","The Dark Seal","The Hex Core mk-1","The Hex Core mk-2","The Lightbringer","Thornmail","Tiamat","Titanic Hydra","Total Biscuit of Rejuvenation","Total Biscuit of Rejuvenation","Tracker's Knife","Trinity Force","Vampiric Scepter","Vision Ward","Void Staff","Warden's Mail","Warding Totem (Trinket)","Warmog's Armor","Wicked Hatchet","Will of the Ancients","Wit's End","Wooglet's Witchcap","Wriggle's Lantern","Youmuu's Ghostblade","Zeal","Zeke's Harbinger","Zhonya's Hourglass","Zz'Rot Portal"];
			for (var i = 0; i < items.length; i++) {
				$("#spells").append("<option>" + items[i]  + "</option>");
			}

			for (var i = 0; i < champions.length; i++) {
				$("#champs").append("<option>" + champions[i]  + "</option>");
			}
		});
	   </script>	
			<select style="font-size:24px" class="btn btn-warning dropdown-toggle" id="spells">
			</select>
			<button type="button" class="btn btn-danger"  style="margin-top:5px; font-size:15px" onClick="addElementItems()">Ban</button>
			<ul class="list-group" id="allowedspells" style="margin-top:5px">
			</ul>
            </div>

	

            <div class="tab-pane top-padding " id="filterchamprestrictions">
			<select style="font-size:24px" class="btn btn-warning dropdown-toggle" id="champs">
			</select>
			<button type="button" class="btn btn-danger"  style="margin-top:5px; font-size:15px" onClick="addElementChamps()">Ban</button>
			<ul class="list-group" id="allowedchamps" style="margin-top:5px">
			</ul>
            </div>
          	<!-- No Wording -->
            <div class="tab-pane top-padding " id="filternowards">
            		<span class="info-text">No warding allowed with this filter.</span>
            </div>
		<!-- Role limitation -->
	    <div class="tab-pane top-padding " id="filterrole">
		<span>
			<input class="ng-valid ng-dirty" id="marksman" type="checkbox">
			<label for="marksman">Marksman</label>
		</span><br>
		<span>
			<input class="ng-valid ng-dirty" id="assassin" type="checkbox">
			<label for="assassin">Assassin</label>
		</span><br>
		<span>
			<input class="ng-valid ng-dirty" id="mage"  type="checkbox">
			<label for="mage">Mage</label>
		</span><br>
		<span>
			<input class="ng-valid ng-dirty" id="tank"  type="checkbox">
			<label for="tank">Tank</label>
		</span><br>
		<span>
			<input class="ng-valid ng-dirty" id="support"  type="checkbox">
			<label for="support">Support</label>
		</span><br>
		<span>
			<input class="ng-valid ng-dirty" id="fighter" type="checkbox">
			<label for="fighter">Fighter</label>
		</span>

<!---				<input type="checkbox">Marksman</input>
				<input type="checkbox">Assassin</input>
				<input type="checkbox">Mage</input>
				<input type="checkbox">Tank</input>
				<input type="checkbox">Support</input>
				<input type="checkbox">Fighter</input>-->
	    </div>


	    <div class="tab-pane top-padding " id="filtersummonerspell">
<!--			<b>Allowed Summoner Spells</b><br>
			<select class="btn btn-warning dropdown-toggle" id="spells">
				<option>Ignite</option>
				<option>Barrier</option>
				<option>Cleanse</option>
				<option>Exhaust</option>
				<option>Flash</option>
				<option>Teleport</option>
				<option>Ghost</option>
				<option>Heal</option>
				<option>Smite</option>
			</select>
			<button type="button" class="btn btn-success" onClick="addElement()">Allow</button>
			<ul class="list-group" id="allowedspells" style="margin-top:5px">
			</ul>-->
			<div class="map-type cc-selector">
				<table style="width:100%">
				<tr>
  				<td style="width:33%;padding:5px 5px 5px 5px;"><input checked="checked" id="FLASH" type="checkbox" name="map-type-radio" value="FLASH" />
  				<label class="drinkcard-cc map-image FLASH" for="FLASH"></label>
				</td>

  				<td style="width:33%;padding:5px 5px 5px 5px;"><input checked="checked" id="CLEANSE" type="checkbox" name="map-type-radio" value="CLEANSE" />
  				<label class="drinkcard-cc map-image CLEANSE" for="CLEANSE"></label>
				</td>

  				<td style="width:33%;padding:5px 5px 5px 5px;"><input checked="checked" id="EXHAUST" type="checkbox" name="map-type-radio" value="EXHAUST" />
  				<label class="drinkcard-cc map-image EXHAUST" for="EXHAUST"></label>
				</td>
				</tr>
				<tr>
  				<td style="padding:5px 5px 5px 5px;"><input checked="checked" id="HEAL" type="checkbox" name="map-type-radio" value="HEAL" />
  				<label class="drinkcard-cc map-image HEAL" for="HEAL"></label>
				</td>

  				<td style="padding:5px 5px 5px 5px;"><input checked="checked" id="IGNITE" type="checkbox" name="map-type-radio" value="IGNITE" />
  				<label class="drinkcard-cc map-image IGNITE" for="IGNITE"></label>
				</td>
  				<td style="padding:5px 5px 5px 5px;"><input checked="checked" id="BARRIER" type="checkbox" name="map-type-radio" value="BARRIER" />
  				<label class="drinkcard-cc map-image BARRIER" for="BARRIER"></label>
				</td>
				</tr>


				<tr>
  				<td style="padding:5px 5px 5px 5px;"><input checked="checked" id="SMITE" type="checkbox" name="map-type-radio" value="SMITE" />
  				<label class="drinkcard-cc map-image SMITE" for="SMITE"></label>
				</td>

  				<td style="padding:5px 5px 5px 5px;"><input checked="checked" id="TELEPORT" type="checkbox" name="map-type-radio" value="TELEPORT" />
  				<label class="drinkcard-cc map-image TELEPORT" for="TELEPORT"></label>
				</td>
  				<td style="padding:5px 5px 5px 5px;"><input checked="checked" id="GHOST" type="checkbox" name="map-type-radio" value="GHOST" />
  				<label class="drinkcard-cc map-image GHOST" for="GHOST"></label>
				</td>
				</tr>

				</table>
  			</div>
	    </div>
          </div>
        </div>
      </div>

      <button type="button" class="btn btn-outline top-margin" ng-click="step3 = false; step2 = true">Back</button>
      <button type="submit" class="btn btn-outline step3submit top-margin" ng-disabled="step3form.$invalid">Next</button>





      	</form>
  </div>

  <div id="step4" ng-show="step4">
  <span class="noselect">Setting up your tournament...</span>

  </div>
</div>

<!--   		<div class="map-type cc-selector">
  				<input checked="checked" id="SUMMONERS_RIFT" type="radio" name="map-type-radio" value="SUMMONERS_RIFT" />
  				<label class="drinkcard-cc map-image SUMMONERS_RIFT" for="SUMMONERS_RIFT"></label>
  				<span class="map-title">Summoners Rift</span>
					<input checked="checked" id="HOWLING_ABYSS" type="radio" name="map-type-radio" value="HOWLING_ABYSS" />
  				<label class="drinkcard-cc map-image HOWLING_ABYSS" for="HOWLING_ABYSS"></label>
  				<span class="map-title">Howling Abyss</span>
					<input checked="checked" id="CRYSTAL_SCAR" type="radio" name="map-type-radio" value="CRYSTAL_SCAR" />
  				<label class="drinkcard-cc map-image CRYSTAL_SCAR" for="CRYSTAL_SCAR"></label>
  				<span class="map-title">Crystal Scar</span>
  		</div>
